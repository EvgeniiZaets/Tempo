<?php//// Конттроллер страницы чтения.//class C_User extends C_Base{    //    // Конструктор.    //    function __construct()    {        parent::__construct();    }    // Страница авторизации.    public function action_auth()    {        $this->title .= ' login';        $this->navbar = '';        // Получение экземпляра модели.        $mUsers = M_Users::instance();        if ($this->IsPost())        {                if ($mUsers->login($_POST['name'], $_POST['password']))                {                        header("Location: index.php?c=user&act=profile");                        die();                }                $error = true;        }        else        {                $error = false;        }        $this->content = $this->Template('view/v_auth.php', array('error' => $error));    }    // Профиль пользователя.    public function action_profile()    {        $this->title .= ' profile';        $this->navbar = '';        // Получение экземпляра модели.        $mUsers = M_Users::instance();        // Проверка авторизации.        if (!$mUsers->checkAuth())        {            header("Location: index.php?c=user&act=auth");            exit();        }        if (isset($_GET['cmd']) && $_GET['cmd'] == 'exit')        {            $mUsers->logout();            header("Location: index.php");            exit();        }        $user = $mUsers->user_get($_COOKIE['id']);        $this->content = $this->Template('view/v_profile.php', array('user' => $user));    }}