<?php//// Модель для работы с категориями.//class M_Categories{	//private $cat_id;	//private $cat_name;	// Ссылка на экземпляр класса.		private static $instance;	private $msql;		// Получение единственного экземпляра.	public static function instance()	{		if (self::$instance == null)			self::$instance = new M_Categories;				return self::$instance;	}		public function __construct()	{		$this->msql = M_MSQL::instance();	}				//	// Список всех товаров в подкатегории.	//	/*public function all($subcat_id)	{		// Подготовка.		$subcat_id = intval($subcat_id);				// Запрос.		$query = "SELECT * FROM items WHERE subcat_id = '$subcat_id'";				$items = $this->msql->Select($query);			return $items;	}	*/		// Возвращает массив Категорий->подкатегорий.	public function all_cats_subcats()        {            // Получаем категории.            $categories = mysql_query('SELECT * FROM categories                                       ORDER BY cat_id ASC');            if (!$categories) exit(mysql_error());            while ($cats = mysql_fetch_assoc($categories))            {                      $catId = $cats['cat_id'];                $catName = $cats['cat_name'];                $navbar[$catId][$catName] = array();                // Получаем подкатегории.                $subcategories = mysql_query('SELECT * FROM subcategories                                              WHERE cat_id = '.$catId.'                                              ORDER BY subcat_id ASC');                if (!$subcategories) exit(mysql_error());                while ($subcat = mysql_fetch_assoc($subcategories))                {                            $navbar[$catId][$catName][$subcat['subcat_id']] = $subcat['subcat_name'];                }            }                       return $navbar;		        }}